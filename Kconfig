mainmenu "X-kernel Configuration"

choice
    prompt "Target Architecture"
    default ARCH_AARCH64

config ARCH_AARCH64
    bool "AArch64 (ARM 64-bit)"

config ARCH_RISCV64
    bool "RISC-V 64-bit"

config ARCH_X86_64
    bool "x86_64"

config ARCH_LOONGARCH64
    bool "LoongArch 64-bit"

endchoice

config ARCH
    string
    default "aarch64" if ARCH_AARCH64
    default "riscv64" if ARCH_RISCV64
    default "x86_64" if ARCH_X86_64
    default "loongarch64" if ARCH_LOONGARCH64

menu "Platform Selection"

choice
    prompt "Target Platform"
    default PLATFORM_AARCH64_QEMU_VIRT if ARCH_AARCH64
    default PLATFORM_RISCV64_QEMU_VIRT if ARCH_RISCV64
    default PLATFORM_X86_64_QEMU_VIRT if ARCH_X86_64
    default PLATFORM_LOONGARCH64_QEMU_VIRT if ARCH_LOONGARCH64

config PLATFORM_AARCH64_QEMU_VIRT
    bool "QEMU ARM64 Virtual Machine"
    depends on ARCH_AARCH64

config PLATFORM_AARCH64_CROSVM_VIRT
    bool "CROSVM ARM64 Virtual Machine"
    depends on ARCH_AARCH64

config PLATFORM_AARCH64_RASPI
    bool "Raspberry Pi 4B"
    depends on ARCH_AARCH64

config PLATFORM_RISCV64_QEMU_VIRT
    bool "QEMU RISC-V 64 Virtual Machine"
    depends on ARCH_RISCV64

config PLATFORM_X86_64_QEMU_VIRT
    bool "QEMU x86_64 Virtual Machine"
    depends on ARCH_X86_64

config PLATFORM_X86_CSV
    bool "x86 CSV Platform"
    depends on ARCH_X86_64

config PLATFORM_LOONGARCH64_QEMU_VIRT
    bool "QEMU LoongArch64 Virtual Machine"
    depends on ARCH_LOONGARCH64

endchoice

config PLAT
    string
    default "aarch64-qemu-virt" if PLATFORM_AARCH64_QEMU_VIRT
    default "aarch64-crosvm-virt" if PLATFORM_AARCH64_CROSVM_VIRT
    default "aarch64-raspi" if PLATFORM_AARCH64_RASPI
    default "riscv64-qemu-virt" if PLATFORM_RISCV64_QEMU_VIRT
    default "x86_64-qemu-virt" if PLATFORM_X86_64_QEMU_VIRT
    default "x86-csv" if PLATFORM_X86_CSV
    default "loongarch64-qemu-virt" if PLATFORM_LOONGARCH64_QEMU_VIRT

source "platforms/Kconfig"

endmenu

menu "Kernel Features"

config FEAT_SMP
    bool "Symmetric Multiprocessing (SMP)"
    default y

config FEAT_FP_SIMD
    bool "Floating Point and SIMD"
    default y

config FEAT_NET
    bool "Network Stack"
    default y

config FEAT_FS
    bool "File System Support"
    default y

config FEAT_ALLOC
    bool "Dynamic Memory Allocation"
    default y

config FEAT_IRQ
    bool "Interrupt Support"
    default y

endmenu
